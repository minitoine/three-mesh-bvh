let e,t,n,i,r,o,a,l;function s(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var d=globalThis,c={},u={},p=d.parcelRequire4485;null==p&&((p=function(e){if(e in c)return c[e].exports;if(e in u){var t=u[e];delete u[e];var n={id:e,exports:{}};return c[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){u[e]=t},d.parcelRequire4485=p);var f=p.register;f("hBOJ2",function(e,t){s(e.exports,"default",()=>n);var n=function(){var e=0,t=document.createElement("div");function i(e){return t.appendChild(e.dom),e}function r(n){for(var i=0;i<t.children.length;i++)t.children[i].style.display=i===n?"block":"none";e=n}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(n){n.preventDefault(),r(++e%t.children.length)},!1);var o=(performance||Date).now(),a=o,l=0,s=i(new n.Panel("FPS","#0ff","#002")),d=i(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=i(new n.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:t,addPanel:i,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(d.update(e-o,200),e>a+1e3&&(s.update(1e3*l/(e-a),100),a=e,l=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:t,setMode:r}};n.Panel=function(e,t,n){var i=1/0,r=0,o=Math.round,a=o(window.devicePixelRatio||1),l=80*a,s=48*a,d=3*a,c=2*a,u=3*a,p=15*a,f=74*a,w=30*a,h=document.createElement("canvas");h.width=l,h.height=s,h.style.cssText="width:80px;height:48px";var m=h.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,l,s),m.fillStyle=t,m.fillText(e,d,c),m.fillRect(u,p,f,w),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(u,p,f,w),{dom:h,update:function(s,y){i=Math.min(i,s),r=Math.max(r,s),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,l,p),m.fillStyle=t,m.fillText(o(s)+" "+e+" ("+o(i)+"-"+o(r)+")",d,c),m.drawImage(h,u+a,p,f-a,w,u,p,f-a,w),m.fillRect(u+f-a,p,a,w),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(u+f-a,p,a,o((1-s/y)*w))}}}}),f("4h5hN",function(e,t){s(e.exports,"acceleratedRaycast",()=>d),s(e.exports,"computeBoundsTree",()=>c),s(e.exports,"disposeBoundsTree",()=>u);var n=p("ilwiq"),i=p("b4YKL"),r=p("ff8ed");let o=new n.Ray,a=new n.Matrix4,l=n.Mesh.prototype.raycast;function d(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;a.copy(this.matrixWorld).invert(),o.copy(e.ray).applyMatrix4(a);let n=this.geometry.boundsTree;if(!0===e.firstHitOnly){let r=(0,i.convertRaycastIntersect)(n.raycastFirst(o,this.material),this,e);r&&t.push(r)}else{let r=n.raycast(o,this.material);for(let n=0,o=r.length;n<o;n++){let o=(0,i.convertRaycastIntersect)(r[n],this,e);o&&t.push(o)}}}else l.call(this,e,t)}function c(e){return this.boundsTree=new r.MeshBVH(this,e),this.boundsTree}function u(){this.boundsTree=null}}),f("b4YKL",function(e,t){s(e.exports,"convertRaycastIntersect",()=>n);function n(e,t,n){return null===e?null:(e.point.applyMatrix4(t.matrixWorld),e.distance=e.point.distanceTo(n.ray.origin),e.object=t,e.distance<n.near||e.distance>n.far)?null:e}});var w=p("hBOJ2"),h=p("jiuw3"),m=p("ilwiq"),y=p("5Rd1x"),v=p("4h5hN"),x=p("Mleu6");m.Mesh.prototype.raycast=v.acceleratedRaycast,m.BufferGeometry.prototype.computeBoundsTree=v.computeBoundsTree,m.BufferGeometry.prototype.disposeBoundsTree=v.disposeBoundsTree;const g={size:.1,rotate:!0};let b=new m.Vector2,E=-1,T=!1;!function(){(i=new m.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.setClearColor(1251612,1),i.outputEncoding=m.sRGBEncoding,document.body.appendChild(i.domElement),i.domElement.style.touchAction="none",(t=new m.Scene).fog=new m.Fog(1251612,20,60);let s=new m.DirectionalLight(16777215,.5);s.position.set(1,1,1),t.add(s),t.add(new m.AmbientLight(16777215,.4));let d=new m.TorusKnotGeometry(1,.4,800,400).toNonIndexed(),c=new Uint8Array(3*d.attributes.position.count);c.fill(255);let u=new m.BufferAttribute(c,3,!0);u.setUsage(m.DynamicDrawUsage),d.setAttribute("color",u);let p=new m.MeshStandardMaterial({color:16777215,roughness:.3,metalness:0,vertexColors:!0});(o=new m.Mesh(d,p)).geometry.computeBoundsTree(),t.add(o);let f=new m.SphereGeometry(1,40,40),v=new m.MeshStandardMaterial({color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5});a=new m.Mesh(f,v),t.add(a),(n=new m.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50)).position.set(3,3,3),n.far=100,n.updateProjectionMatrix(),e=new w.default,document.body.appendChild(e.dom);let x=new h.GUI;x.add(g,"size").min(.1).max(1).step(.1),x.add(g,"rotate"),x.open(),window.addEventListener("resize",function(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)},!1),window.addEventListener("pointermove",function(e){b.x=e.clientX/window.innerWidth*2-1,b.y=-(e.clientY/window.innerHeight*2)+1,T=!0}),window.addEventListener("pointerdown",function(e){b.x=e.clientX/window.innerWidth*2-1,b.y=-(e.clientY/window.innerHeight*2)+1,E=e.button;let t=new m.Raycaster;t.setFromCamera(b,n),t.firstHitOnly=!0;let i=t.intersectObject(o,!0);T=!0,r.enabled=0===i.length},!0),window.addEventListener("pointerup",function(e){E=-1,"touch"===e.pointerType&&(T=!1)},!0),window.addEventListener("contextmenu",function(e){e.preventDefault()}),window.addEventListener("wheel",function(e){let t=e.deltaY;1===e.deltaMode&&(t*=40),2===e.deltaMode&&(t*=40),g.size+=5e-4*t,g.size=Math.max(Math.min(g.size,1),.1),x.controllersRecursive().forEach(e=>e.updateDisplay())}),(r=new y.OrbitControls(n,i.domElement)).addEventListener("start",function(){this.active=!0}),r.addEventListener("end",function(){this.active=!1}),l=window.performance.now()}(),function s(){requestAnimationFrame(s),e.begin();let d=o.geometry,c=d.boundsTree,u=d.getAttribute("color"),p=d.index;if(r.active||!T)a.visible=!1;else{a.scale.setScalar(g.size);let e=new m.Raycaster;e.setFromCamera(b,n),e.firstHitOnly=!0;let t=e.intersectObject(o,!0);if(t.length){a.position.copy(t[0].point),r.enabled=!1,a.visible=!0;let e=new m.Matrix4;e.copy(o.matrixWorld).invert();let n=new m.Sphere;n.center.copy(a.position).applyMatrix4(e),n.radius=g.size;let i=[],l=new m.Vector3;if(c.shapecast({intersectsBounds:e=>{let t=n.intersectsBox(e),{min:i,max:r}=e;if(t){for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)for(let o=0;o<=1;o++)if(l.set(0===e?i.x:r.x,0===t?i.y:r.y,0===o?i.z:r.z),!n.containsPoint(l))return x.INTERSECTED;return x.CONTAINED}return t?x.INTERSECTED:x.NOT_INTERSECTED},intersectsTriangle:(e,t,r)=>{if(r||e.intersectsSphere(n)){let e=3*t;i.push(e,e+1,e+2)}return!1}}),0===E||2===E){let e=1,t=1,n=1;0===E&&(e=15/255,t=78/255,n=85/255);for(let r=0,o=i.length;r<o;r++){let o=p.getX(i[r]);u.setX(o,e),u.setY(o,t),u.setZ(o,n)}u.needsUpdate=!0}}else r.enabled=!0,a.visible=!1}let f=window.performance.now();if(g.rotate){let e=f-l;o.rotation.y+=.001*e}l=f,i.render(t,n),e.end()}();
//# sourceMappingURL=collectTriangles.5007d929.js.map
