let e,t,n,i,r,o,a,s,l,d,c,p,u;function f(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var w=globalThis,h={},y={},m=w.parcelRequire4485;null==m&&((m=function(e){if(e in h)return h[e].exports;if(e in y){var t=y[e];delete y[e];var n={id:e,exports:{}};return h[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){y[e]=t},w.parcelRequire4485=m);var g=m.register;g("c8CJQ",function(e,t){var n;e.exports,e.exports=((n=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";i=e}var i=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++i%r.children.length)},!1);var o=(performance||Date).now(),a=o,s=0,l=e(new n.Panel("FPS","#0ff","#002")),d=e(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new n.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(d.update(e-o,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:r,setMode:t}}).Panel=function(e,t,n){var i=1/0,r=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,d=3*a,c=2*a,p=3*a,u=15*a,f=74*a,w=30*a,h=document.createElement("canvas");h.width=s,h.height=l,h.style.cssText="width:80px;height:48px";var y=h.getContext("2d");return y.font="bold "+9*a+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=n,y.fillRect(0,0,s,l),y.fillStyle=t,y.fillText(e,d,c),y.fillRect(p,u,f,w),y.fillStyle=n,y.globalAlpha=.9,y.fillRect(p,u,f,w),{dom:h,update:function(l,m){i=Math.min(i,l),r=Math.max(r,l),y.fillStyle=n,y.globalAlpha=1,y.fillRect(0,0,s,u),y.fillStyle=t,y.fillText(o(l)+" "+e+" ("+o(i)+"-"+o(r)+")",d,c),y.drawImage(h,p+a,u,f-a,w,p,u,f-a,w),y.fillRect(p+f-a,u,a,w),y.fillStyle=n,y.globalAlpha=.9,y.fillRect(p+f-a,u,a,o((1-l/m)*w))}}},n)}),g("4h5hN",function(e,t){f(e.exports,"acceleratedRaycast",()=>l),f(e.exports,"computeBoundsTree",()=>d),f(e.exports,"disposeBoundsTree",()=>c);var n=m("ilwiq"),i=m("b4YKL"),r=m("ff8ed");let o=new n.Ray,a=new n.Matrix4,s=n.Mesh.prototype.raycast;function l(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;a.copy(this.matrixWorld).invert(),o.copy(e.ray).applyMatrix4(a);let n=this.geometry.boundsTree;if(!0===e.firstHitOnly){let r=(0,i.convertRaycastIntersect)(n.raycastFirst(o,this.material),this,e);r&&t.push(r)}else{let r=n.raycast(o,this.material);for(let n=0,o=r.length;n<o;n++){let o=(0,i.convertRaycastIntersect)(r[n],this,e);o&&t.push(o)}}}else s.call(this,e,t)}function d(e){return this.boundsTree=new r.MeshBVH(this,e),this.boundsTree}function c(){this.boundsTree=null}}),g("b4YKL",function(e,t){f(e.exports,"convertRaycastIntersect",()=>n);function n(e,t,n){return null===e?null:(e.point.applyMatrix4(t.matrixWorld),e.distance=e.point.distanceTo(n.ray.origin),e.object=t,e.distance<n.near||e.distance>n.far)?null:e}});var x=m("c8CJQ"),b=m("jiuw3"),v=m("ilwiq"),M=m("5Rd1x"),T=m("4h5hN"),R=m("Mleu6");v.Mesh.prototype.raycast=T.acceleratedRaycast,v.BufferGeometry.prototype.computeBoundsTree=T.computeBoundsTree,v.BufferGeometry.prototype.disposeBoundsTree=T.disposeBoundsTree;const B={position:new v.Vector3,rotation:new v.Euler,scale:new v.Vector3(1,1,1),speed:1,displayMeshes:!1,distance:1.1};let O=window.performance.now();(function(){(i=new v.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.setClearColor(6687034,1),i.outputEncoding=v.sRGBEncoding,document.body.appendChild(i.domElement),(t=new v.Scene).fog=new v.Fog(1251612,20,60);let f=new v.DirectionalLight(16777215,.5);f.position.set(1,1,1),t.add(f),t.add(new v.AmbientLight(16777215,.4));let w=new v.TorusKnotGeometry(1,.4,100,40),h=new v.MeshPhongMaterial({color:16777215,side:v.DoubleSide,shininess:.01,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,opacity:.5,blending:v.CustomBlending}),y=new v.MeshBasicMaterial({polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,colorWrite:!1});w.computeBoundsTree({maxLeafTris:1,strategy:R.SAH}),p=new v.Group,(r=new v.Mesh(w,h)).renderOrder=2,(d=new v.Mesh(w,y)).renderOrder=1,p.add(d,r),u=new v.Group,(o=new v.Mesh(w,h)).renderOrder=2,(c=new v.Mesh(w,y)).renderOrder=1,u.add(c,o),t.add(p,u);let m=new v.BufferGeometry;m.setFromPoints([new v.Vector3(0,1,0),new v.Vector3(0,-1,0)]),(l=(s=new v.LineSegments(m,new v.LineBasicMaterial({color:15277667}))).clone()).material=new v.LineBasicMaterial({color:15277667,transparent:!0,opacity:.25,depthFunc:v.GreaterDepth}),l.renderOrder=3,(a=new v.Group).add(s,l),t.add(a),(n=new v.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,50)).position.set(2,2,2),n.far=100,n.updateProjectionMatrix(),new M.OrbitControls(n,i.domElement),e=new(x&&x.__esModule?x.default:x),document.body.appendChild(e.dom);let g=new b.GUI;g.add(B,"speed",0,10,.001),g.add(B,"distance",0,1.5,.001),g.add(B,"displayMeshes"),g.open(),window.addEventListener("resize",function(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)},!1)})(),function l(){requestAnimationFrame(l);let d=window.performance.now()-O;O=window.performance.now(),p.position.y=-B.distance,p.rotation.x-=3*d*1e-4*B.speed*.5,p.rotation.y-=1e-4*d*B.speed*.5,p.rotation.z-=2e-4*d*B.speed*.5,u.position.y=B.distance,u.rotation.x+=1e-4*d*B.speed,u.rotation.y+=2e-4*d*B.speed,u.rotation.z+=3*d*1e-4*B.speed,t.updateMatrixWorld(!0);let c=new v.Matrix4().copy(r.matrixWorld).invert().multiply(o.matrixWorld),f=new v.Line3,w=[];if(r.geometry.boundsTree.bvhcast(o.geometry.boundsTree,c,{intersectsTriangles(e,t){if(e.intersectsTriangle(t,f)){let{start:e,end:t}=f;w.push(e.x,e.y,e.z,t.x,t.y,t.z)}}}),w.length){let e=s.geometry,t=e.attributes.position.array;t.length<w.length?(e.dispose(),e.setAttribute("position",new v.BufferAttribute(new Float32Array(w),3,!1))):t.set(w),e.setDrawRange(0,w.length/3),e.attributes.position.needsUpdate=!0,a.position.copy(p.position),a.rotation.copy(p.rotation),a.scale.copy(p.scale),a.visible=!0}else a.visible=!1;p.visible=B.displayMeshes,u.visible=B.displayMeshes,i.render(t,n),e.begin(),e.end()}();
//# sourceMappingURL=edgeIntersect.4f25e91d.js.map
