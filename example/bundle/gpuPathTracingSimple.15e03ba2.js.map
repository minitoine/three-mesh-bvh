{"mappings":"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","sources":["<anon>","node_modules/three/examples/jsm/postprocessing/Pass.js","node_modules/stats.js/build/stats.min.js","example/gpuPathTracingSimple.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire4485\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire4485\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"RPVlj\", function(module, exports) {\n\n$parcel$export(module.exports, \"FullScreenQuad\", () => $0a1d3a5a6a49de03$export$3983474c8e6e978b);\n\nvar $ilwiq = parcelRequire(\"ilwiq\");\nclass $0a1d3a5a6a49de03$export$802bc10488da99c7 {\n    constructor(){\n        this.isPass = true;\n        // if set to true, the pass is processed by the composer\n        this.enabled = true;\n        // if set to true, the pass indicates to swap read and write buffer after rendering\n        this.needsSwap = true;\n        // if set to true, the pass clears its buffer before rendering\n        this.clear = false;\n        // if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n        this.renderToScreen = false;\n    }\n    setSize() {}\n    render() {\n        console.error(\"THREE.Pass: .render() must be implemented in derived pass.\");\n    }\n    dispose() {}\n}\n// Helper for passes that need to fill the viewport with a single quad.\nconst $0a1d3a5a6a49de03$var$_camera = new (0, $ilwiq.OrthographicCamera)(-1, 1, 1, -1, 0, 1);\n// https://github.com/mrdoob/three.js/pull/21358\nconst $0a1d3a5a6a49de03$var$_geometry = new (0, $ilwiq.BufferGeometry)();\n$0a1d3a5a6a49de03$var$_geometry.setAttribute(\"position\", new (0, $ilwiq.Float32BufferAttribute)([\n    -1,\n    3,\n    0,\n    -1,\n    -1,\n    0,\n    3,\n    -1,\n    0\n], 3));\n$0a1d3a5a6a49de03$var$_geometry.setAttribute(\"uv\", new (0, $ilwiq.Float32BufferAttribute)([\n    0,\n    2,\n    0,\n    0,\n    2,\n    0\n], 2));\nclass $0a1d3a5a6a49de03$export$3983474c8e6e978b {\n    constructor(material){\n        this._mesh = new (0, $ilwiq.Mesh)($0a1d3a5a6a49de03$var$_geometry, material);\n    }\n    dispose() {\n        this._mesh.geometry.dispose();\n    }\n    render(renderer) {\n        renderer.render(this._mesh, $0a1d3a5a6a49de03$var$_camera);\n    }\n    get material() {\n        return this._mesh.material;\n    }\n    set material(value) {\n        this._mesh.material = value;\n    }\n}\n\n});\n\nparcelRegister(\"c8CJQ\", function(module, exports) {\n// stats.js - http://github.com/mrdoob/stats.js\n(function(f, e) {\n    module.exports = e();\n})(module.exports, function() {\n    var f = function() {\n        function e(a) {\n            c.appendChild(a.dom);\n            return a;\n        }\n        function u(a) {\n            for(var d = 0; d < c.children.length; d++)c.children[d].style.display = d === a ? \"block\" : \"none\";\n            l = a;\n        }\n        var l = 0, c = document.createElement(\"div\");\n        c.style.cssText = \"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";\n        c.addEventListener(\"click\", function(a) {\n            a.preventDefault();\n            u(++l % c.children.length);\n        }, !1);\n        var k = (performance || Date).now(), g = k, a = 0, r = e(new f.Panel(\"FPS\", \"#0ff\", \"#002\")), h = e(new f.Panel(\"MS\", \"#0f0\", \"#020\"));\n        if (self.performance && self.performance.memory) var t = e(new f.Panel(\"MB\", \"#f08\", \"#201\"));\n        u(0);\n        return {\n            REVISION: 16,\n            dom: c,\n            addPanel: e,\n            showPanel: u,\n            begin: function() {\n                k = (performance || Date).now();\n            },\n            end: function() {\n                a++;\n                var c = (performance || Date).now();\n                h.update(c - k, 200);\n                if (c > g + 1E3 && (r.update(1E3 * a / (c - g), 100), g = c, a = 0, t)) {\n                    var d = performance.memory;\n                    t.update(d.usedJSHeapSize / 1048576, d.jsHeapSizeLimit / 1048576);\n                }\n                return c;\n            },\n            update: function() {\n                k = this.end();\n            },\n            domElement: c,\n            setMode: u\n        };\n    };\n    f.Panel = function(e, f, l) {\n        var c = Infinity, k = 0, g = Math.round, a = g(window.devicePixelRatio || 1), r = 80 * a, h = 48 * a, t = 3 * a, v = 2 * a, d = 3 * a, m = 15 * a, n = 74 * a, p = 30 * a, q = document.createElement(\"canvas\");\n        q.width = r;\n        q.height = h;\n        q.style.cssText = \"width:80px;height:48px\";\n        var b = q.getContext(\"2d\");\n        b.font = \"bold \" + 9 * a + \"px Helvetica,Arial,sans-serif\";\n        b.textBaseline = \"top\";\n        b.fillStyle = l;\n        b.fillRect(0, 0, r, h);\n        b.fillStyle = f;\n        b.fillText(e, t, v);\n        b.fillRect(d, m, n, p);\n        b.fillStyle = l;\n        b.globalAlpha = .9;\n        b.fillRect(d, m, n, p);\n        return {\n            dom: q,\n            update: function(h, w) {\n                c = Math.min(c, h);\n                k = Math.max(k, h);\n                b.fillStyle = l;\n                b.globalAlpha = 1;\n                b.fillRect(0, 0, r, m);\n                b.fillStyle = f;\n                b.fillText(g(h) + \" \" + e + \" (\" + g(c) + \"-\" + g(k) + \")\", t, v);\n                b.drawImage(q, d + a, m, n - a, p, d, m, n - a, p);\n                b.fillRect(d + n - a, m, a, p);\n                b.fillStyle = l;\n                b.globalAlpha = .9;\n                b.fillRect(d + n - a, m, a, g((1 - h / w) * p));\n            }\n        };\n    };\n    return f;\n});\n\n});\n\n\nvar $ilwiq = parcelRequire(\"ilwiq\");\n\nvar $5Rd1x = parcelRequire(\"5Rd1x\");\n\nvar $RPVlj = parcelRequire(\"RPVlj\");\n\nvar $c8CJQ = parcelRequire(\"c8CJQ\");\n\nvar $jiuw3 = parcelRequire(\"jiuw3\");\n\nvar $gcCUH = parcelRequire(\"gcCUH\");\nvar $5LGag = parcelRequire(\"5LGag\");\nvar $ff8ed = parcelRequire(\"ff8ed\");\nvar $boAbX = parcelRequire(\"boAbX\");\nvar $Mleu6 = parcelRequire(\"Mleu6\");\nconst $0c37998b4f7bf24c$var$params = {\n    enableRaytracing: true,\n    animate: true,\n    resolutionScale: 1.0 / window.devicePixelRatio,\n    smoothNormals: true\n};\nlet $0c37998b4f7bf24c$var$renderer, $0c37998b4f7bf24c$var$camera, $0c37998b4f7bf24c$var$scene, $0c37998b4f7bf24c$var$gui, $0c37998b4f7bf24c$var$stats;\nlet $0c37998b4f7bf24c$var$rtQuad, $0c37998b4f7bf24c$var$mesh, $0c37998b4f7bf24c$var$clock;\n$0c37998b4f7bf24c$var$init();\n$0c37998b4f7bf24c$var$render();\nfunction $0c37998b4f7bf24c$var$init() {\n    // renderer setup\n    $0c37998b4f7bf24c$var$renderer = new $ilwiq.WebGLRenderer({\n        antialias: false\n    });\n    $0c37998b4f7bf24c$var$renderer.setPixelRatio(window.devicePixelRatio);\n    $0c37998b4f7bf24c$var$renderer.setClearColor(0x09141a);\n    $0c37998b4f7bf24c$var$renderer.setSize(window.innerWidth, window.innerHeight);\n    $0c37998b4f7bf24c$var$renderer.outputEncoding = $ilwiq.sRGBEncoding;\n    document.body.appendChild($0c37998b4f7bf24c$var$renderer.domElement);\n    // scene setup\n    $0c37998b4f7bf24c$var$scene = new $ilwiq.Scene();\n    const light = new $ilwiq.DirectionalLight(0xffffff, 1);\n    light.position.set(1, 1, 1);\n    $0c37998b4f7bf24c$var$scene.add(light);\n    $0c37998b4f7bf24c$var$scene.add(new $ilwiq.AmbientLight(0xb0bec5, 0.5));\n    // camera setup\n    $0c37998b4f7bf24c$var$camera = new $ilwiq.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 50);\n    $0c37998b4f7bf24c$var$camera.position.set(0, 0, 4);\n    $0c37998b4f7bf24c$var$camera.far = 100;\n    $0c37998b4f7bf24c$var$camera.updateProjectionMatrix();\n    // stats setup\n    $0c37998b4f7bf24c$var$stats = new (0, (/*@__PURE__*/$parcel$interopDefault($c8CJQ)))();\n    document.body.appendChild($0c37998b4f7bf24c$var$stats.dom);\n    const knotGeometry = new $ilwiq.TorusKnotGeometry(1, 0.3, 300, 50);\n    const bvh = new (0, $ff8ed.MeshBVH)(knotGeometry, {\n        maxLeafTris: 1,\n        strategy: (0, $Mleu6.SAH)\n    });\n    $0c37998b4f7bf24c$var$mesh = new $ilwiq.Mesh(knotGeometry, new $ilwiq.MeshStandardMaterial());\n    $0c37998b4f7bf24c$var$scene.add($0c37998b4f7bf24c$var$mesh);\n    $0c37998b4f7bf24c$var$clock = new $ilwiq.Clock();\n    const rtMaterial = new $ilwiq.ShaderMaterial({\n        defines: {\n            SMOOTH_NORMALS: 1\n        },\n        uniforms: {\n            bvh: {\n                value: new (0, $boAbX.MeshBVHUniformStruct)()\n            },\n            normalAttribute: {\n                value: new (0, $5LGag.FloatVertexAttributeTexture)()\n            },\n            cameraWorldMatrix: {\n                value: new $ilwiq.Matrix4()\n            },\n            invProjectionMatrix: {\n                value: new $ilwiq.Matrix4()\n            },\n            invModelMatrix: {\n                value: new $ilwiq.Matrix4()\n            }\n        },\n        vertexShader: /* glsl */ `\n\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\n\t\t\t\tvec4 mvPosition = vec4( position, 1.0 );\n\t\t\t\tmvPosition = modelViewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t\tvUv = uv;\n\n\t\t\t}\n\n\t\t`,\n        fragmentShader: /* glsl */ `\n\t\t\tprecision highp isampler2D;\n\t\t\tprecision highp usampler2D;\n\n\t\t\t${(0, $gcCUH).common_functions}\n\t\t\t${(0, $gcCUH).bvh_struct_definitions}\n\t\t\t${(0, $gcCUH).bvh_ray_functions}\n\n\t\t\tuniform mat4 cameraWorldMatrix;\n\t\t\tuniform mat4 invProjectionMatrix;\n\t\t\tuniform mat4 invModelMatrix;\n\t\t\tuniform sampler2D normalAttribute;\n\t\t\tuniform BVH bvh;\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\n\t\t\t\t// get [-1, 1] normalized device coordinates\n\t\t\t\tvec2 ndc = 2.0 * vUv - vec2( 1.0 );\n\t\t\t\tvec3 rayOrigin, rayDirection;\n\t\t\t\tndcToCameraRay(\n\t\t\t\t\tndc, invModelMatrix * cameraWorldMatrix, invProjectionMatrix,\n\t\t\t\t\trayOrigin, rayDirection\n\t\t\t\t);\n\n\t\t\t\t// hit results\n\t\t\t\tuvec4 faceIndices = uvec4( 0u );\n\t\t\t\tvec3 faceNormal = vec3( 0.0, 0.0, 1.0 );\n\t\t\t\tvec3 barycoord = vec3( 0.0 );\n\t\t\t\tfloat side = 1.0;\n\t\t\t\tfloat dist = 0.0;\n\n\t\t\t\t// get intersection\n\t\t\t\tbool didHit = bvhIntersectFirstHit( bvh, rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist );\n\n\t\t\t\t#if SMOOTH_NORMALS\n\n\t\t\t\t\tvec3 normal = textureSampleBarycoord(\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tbarycoord,\n\t\t\t\t\t\tfaceIndices.xyz\n\t\t\t\t\t).xyz;\n\n\t\t\t\t#else\n\n\t\t\t\t\tvec3 normal = face.normal;\n\n\t\t\t\t#endif\n\n\t\t\t\t// set the color\n\t\t\t\tgl_FragColor = ! didHit ? vec4( 0.0366, 0.0813, 0.1057, 1.0 ) : vec4( normal, 1.0 );\n\n\t\t\t}\n\t\t`\n    });\n    $0c37998b4f7bf24c$var$rtQuad = new (0, $RPVlj.FullScreenQuad)(rtMaterial);\n    rtMaterial.uniforms.bvh.value.updateFrom(bvh);\n    rtMaterial.uniforms.normalAttribute.value.updateFrom(knotGeometry.attributes.normal);\n    new (0, $5Rd1x.OrbitControls)($0c37998b4f7bf24c$var$camera, $0c37998b4f7bf24c$var$renderer.domElement);\n    $0c37998b4f7bf24c$var$gui = new (0, $jiuw3.GUI)();\n    $0c37998b4f7bf24c$var$gui.add($0c37998b4f7bf24c$var$params, \"enableRaytracing\");\n    $0c37998b4f7bf24c$var$gui.add($0c37998b4f7bf24c$var$params, \"animate\");\n    $0c37998b4f7bf24c$var$gui.add($0c37998b4f7bf24c$var$params, \"smoothNormals\").onChange((v)=>{\n        $0c37998b4f7bf24c$var$rtQuad.material.defines.SMOOTH_NORMALS = Number(v);\n        $0c37998b4f7bf24c$var$rtQuad.material.needsUpdate = true;\n    });\n    $0c37998b4f7bf24c$var$gui.add($0c37998b4f7bf24c$var$params, \"resolutionScale\", 0.1, 1, 0.01).onChange($0c37998b4f7bf24c$var$resize);\n    $0c37998b4f7bf24c$var$gui.open();\n    window.addEventListener(\"resize\", $0c37998b4f7bf24c$var$resize, false);\n    $0c37998b4f7bf24c$var$resize();\n}\nfunction $0c37998b4f7bf24c$var$resize() {\n    $0c37998b4f7bf24c$var$camera.aspect = window.innerWidth / window.innerHeight;\n    $0c37998b4f7bf24c$var$camera.updateProjectionMatrix();\n    const w = window.innerWidth;\n    const h = window.innerHeight;\n    const dpr = window.devicePixelRatio * $0c37998b4f7bf24c$var$params.resolutionScale;\n    $0c37998b4f7bf24c$var$renderer.setSize(w, h);\n    $0c37998b4f7bf24c$var$renderer.setPixelRatio(dpr);\n}\nfunction $0c37998b4f7bf24c$var$render() {\n    $0c37998b4f7bf24c$var$stats.update();\n    requestAnimationFrame($0c37998b4f7bf24c$var$render);\n    const delta = $0c37998b4f7bf24c$var$clock.getDelta();\n    if ($0c37998b4f7bf24c$var$params.animate) $0c37998b4f7bf24c$var$mesh.rotation.y += delta;\n    if ($0c37998b4f7bf24c$var$params.enableRaytracing) {\n        $0c37998b4f7bf24c$var$camera.updateMatrixWorld();\n        $0c37998b4f7bf24c$var$mesh.updateMatrixWorld();\n        // update material\n        const uniforms = $0c37998b4f7bf24c$var$rtQuad.material.uniforms;\n        uniforms.cameraWorldMatrix.value.copy($0c37998b4f7bf24c$var$camera.matrixWorld);\n        uniforms.invProjectionMatrix.value.copy($0c37998b4f7bf24c$var$camera.projectionMatrixInverse);\n        uniforms.invModelMatrix.value.copy($0c37998b4f7bf24c$var$mesh.matrixWorld).invert();\n        // render float target\n        $0c37998b4f7bf24c$var$rtQuad.render($0c37998b4f7bf24c$var$renderer);\n    } else $0c37998b4f7bf24c$var$renderer.render($0c37998b4f7bf24c$var$scene, $0c37998b4f7bf24c$var$camera);\n}\n\n\n//# sourceMappingURL=gpuPathTracingSimple.15e03ba2.js.map\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tOrthographicCamera,\n\tMesh\n} from 'three';\n\nclass Pass {\n\n\tconstructor() {\n\n\t\tthis.isPass = true;\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n\tdispose() {}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { Pass, FullScreenQuad };\n","// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { FullScreenQuad } from 'three/examples/jsm/postprocessing/Pass.js';\nimport Stats from 'stats.js';\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\nimport {\n\tMeshBVH, MeshBVHUniformStruct, FloatVertexAttributeTexture,\n\tBVHShaderGLSL, SAH,\n} from '..';\n\nconst params = {\n\tenableRaytracing: true,\n\tanimate: true,\n\tresolutionScale: 1.0 / window.devicePixelRatio,\n\tsmoothNormals: true,\n};\n\nlet renderer, camera, scene, gui, stats;\nlet rtQuad, mesh, clock;\n\ninit();\nrender();\n\nfunction init() {\n\n\t// renderer setup\n\trenderer = new THREE.WebGLRenderer( { antialias: false } );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setClearColor( 0x09141a );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.outputEncoding = THREE.sRGBEncoding;\n\tdocument.body.appendChild( renderer.domElement );\n\n\t// scene setup\n\tscene = new THREE.Scene();\n\n\tconst light = new THREE.DirectionalLight( 0xffffff, 1 );\n\tlight.position.set( 1, 1, 1 );\n\tscene.add( light );\n\tscene.add( new THREE.AmbientLight( 0xb0bec5, 0.5 ) );\n\n\t// camera setup\n\tcamera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 50 );\n\tcamera.position.set( 0, 0, 4 );\n\tcamera.far = 100;\n\tcamera.updateProjectionMatrix();\n\n\t// stats setup\n\tstats = new Stats();\n\tdocument.body.appendChild( stats.dom );\n\n\tconst knotGeometry = new THREE.TorusKnotGeometry( 1, 0.3, 300, 50 );\n\tconst bvh = new MeshBVH( knotGeometry, { maxLeafTris: 1, strategy: SAH } );\n\n\tmesh = new THREE.Mesh( knotGeometry, new THREE.MeshStandardMaterial() );\n\tscene.add( mesh );\n\n\tclock = new THREE.Clock();\n\n\tconst rtMaterial = new THREE.ShaderMaterial( {\n\n\t\tdefines: {\n\n\t\t\tSMOOTH_NORMALS: 1,\n\n\t\t},\n\n\t\tuniforms: {\n\t\t\tbvh: { value: new MeshBVHUniformStruct() },\n\t\t\tnormalAttribute: { value: new FloatVertexAttributeTexture() },\n\t\t\tcameraWorldMatrix: { value: new THREE.Matrix4() },\n\t\t\tinvProjectionMatrix: { value: new THREE.Matrix4() },\n\t\t\tinvModelMatrix: { value: new THREE.Matrix4() },\n\t\t},\n\n\t\tvertexShader: /* glsl */`\n\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\n\t\t\t\tvec4 mvPosition = vec4( position, 1.0 );\n\t\t\t\tmvPosition = modelViewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t\tvUv = uv;\n\n\t\t\t}\n\n\t\t`,\n\n\t\tfragmentShader: /* glsl */`\n\t\t\tprecision highp isampler2D;\n\t\t\tprecision highp usampler2D;\n\n\t\t\t${ BVHShaderGLSL.common_functions }\n\t\t\t${ BVHShaderGLSL.bvh_struct_definitions }\n\t\t\t${ BVHShaderGLSL.bvh_ray_functions }\n\n\t\t\tuniform mat4 cameraWorldMatrix;\n\t\t\tuniform mat4 invProjectionMatrix;\n\t\t\tuniform mat4 invModelMatrix;\n\t\t\tuniform sampler2D normalAttribute;\n\t\t\tuniform BVH bvh;\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\n\t\t\t\t// get [-1, 1] normalized device coordinates\n\t\t\t\tvec2 ndc = 2.0 * vUv - vec2( 1.0 );\n\t\t\t\tvec3 rayOrigin, rayDirection;\n\t\t\t\tndcToCameraRay(\n\t\t\t\t\tndc, invModelMatrix * cameraWorldMatrix, invProjectionMatrix,\n\t\t\t\t\trayOrigin, rayDirection\n\t\t\t\t);\n\n\t\t\t\t// hit results\n\t\t\t\tuvec4 faceIndices = uvec4( 0u );\n\t\t\t\tvec3 faceNormal = vec3( 0.0, 0.0, 1.0 );\n\t\t\t\tvec3 barycoord = vec3( 0.0 );\n\t\t\t\tfloat side = 1.0;\n\t\t\t\tfloat dist = 0.0;\n\n\t\t\t\t// get intersection\n\t\t\t\tbool didHit = bvhIntersectFirstHit( bvh, rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist );\n\n\t\t\t\t#if SMOOTH_NORMALS\n\n\t\t\t\t\tvec3 normal = textureSampleBarycoord(\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tbarycoord,\n\t\t\t\t\t\tfaceIndices.xyz\n\t\t\t\t\t).xyz;\n\n\t\t\t\t#else\n\n\t\t\t\t\tvec3 normal = face.normal;\n\n\t\t\t\t#endif\n\n\t\t\t\t// set the color\n\t\t\t\tgl_FragColor = ! didHit ? vec4( 0.0366, 0.0813, 0.1057, 1.0 ) : vec4( normal, 1.0 );\n\n\t\t\t}\n\t\t`\n\n\t} );\n\n\trtQuad = new FullScreenQuad( rtMaterial );\n\trtMaterial.uniforms.bvh.value.updateFrom( bvh );\n\trtMaterial.uniforms.normalAttribute.value.updateFrom( knotGeometry.attributes.normal );\n\n\tnew OrbitControls( camera, renderer.domElement );\n\n\tgui = new GUI();\n\tgui.add( params, 'enableRaytracing' );\n\tgui.add( params, 'animate' );\n\tgui.add( params, 'smoothNormals' ).onChange( v => {\n\n\t\trtQuad.material.defines.SMOOTH_NORMALS = Number( v );\n\t\trtQuad.material.needsUpdate = true;\n\n\t} );\n\tgui.add( params, 'resolutionScale', 0.1, 1, 0.01 ).onChange( resize );\n\tgui.open();\n\n\twindow.addEventListener( 'resize', resize, false );\n\tresize();\n\n}\n\nfunction resize() {\n\n\tcamera.aspect = window.innerWidth / window.innerHeight;\n\tcamera.updateProjectionMatrix();\n\n\tconst w = window.innerWidth;\n\tconst h = window.innerHeight;\n\tconst dpr = window.devicePixelRatio * params.resolutionScale;\n\trenderer.setSize( w, h );\n\trenderer.setPixelRatio( dpr );\n\n}\n\nfunction render() {\n\n\tstats.update();\n\trequestAnimationFrame( render );\n\n\tconst delta = clock.getDelta();\n\tif ( params.animate ) {\n\n\t\tmesh.rotation.y += delta;\n\n\t}\n\n\tif ( params.enableRaytracing ) {\n\n\t\tcamera.updateMatrixWorld();\n\t\tmesh.updateMatrixWorld();\n\n\t\t// update material\n\t\tconst uniforms = rtQuad.material.uniforms;\n\t\tuniforms.cameraWorldMatrix.value.copy( camera.matrixWorld );\n\t\tuniforms.invProjectionMatrix.value.copy( camera.projectionMatrixInverse );\n\t\tuniforms.invModelMatrix.value.copy( mesh.matrixWorld ).invert();\n\n\t\t// render float target\n\t\trtQuad.render( renderer );\n\n\t} else {\n\n\t\trenderer.render( scene, camera );\n\n\t}\n\n}\n"],"names":["$0c37998b4f7bf24c$var$renderer","$0c37998b4f7bf24c$var$camera","$0c37998b4f7bf24c$var$scene","$0c37998b4f7bf24c$var$gui","$0c37998b4f7bf24c$var$stats","$0c37998b4f7bf24c$var$rtQuad","$0c37998b4f7bf24c$var$mesh","$0c37998b4f7bf24c$var$clock","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$0a1d3a5a6a49de03$export$3983474c8e6e978b","set","s","enumerable","configurable","$ilwiq","$0a1d3a5a6a49de03$var$_camera","OrthographicCamera","$0a1d3a5a6a49de03$var$_geometry","BufferGeometry","setAttribute","Float32BufferAttribute","constructor","material","_mesh","Mesh","dispose","geometry","render","renderer","value","f","e","a","c","appendChild","dom","u","d","children","length","style","display","l","document","createElement","cssText","addEventListener","preventDefault","k","performance","Date","now","g","r","Panel","h","self","memory","t","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","Infinity","Math","round","window","devicePixelRatio","v","m","n","p","q","width","height","b","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","w","min","max","drawImage","$5Rd1x","$RPVlj","$c8CJQ","$jiuw3","$gcCUH","$5LGag","$ff8ed","$boAbX","$Mleu6","$0c37998b4f7bf24c$var$params","enableRaytracing","animate","resolutionScale","smoothNormals","$0c37998b4f7bf24c$var$resize","aspect","innerWidth","innerHeight","updateProjectionMatrix","dpr","setSize","setPixelRatio","$0c37998b4f7bf24c$var$init","WebGLRenderer","antialias","setClearColor","outputEncoding","sRGBEncoding","body","Scene","light","DirectionalLight","position","add","AmbientLight","PerspectiveCamera","far","__esModule","default","knotGeometry","TorusKnotGeometry","bvh","MeshBVH","maxLeafTris","strategy","SAH","MeshStandardMaterial","Clock","rtMaterial","ShaderMaterial","defines","SMOOTH_NORMALS","uniforms","MeshBVHUniformStruct","normalAttribute","FloatVertexAttributeTexture","cameraWorldMatrix","Matrix4","invProjectionMatrix","invModelMatrix","vertexShader","fragmentShader","common_functions","bvh_struct_definitions","bvh_ray_functions","FullScreenQuad","updateFrom","attributes","normal","OrbitControls","GUI","onChange","Number","needsUpdate","open","$0c37998b4f7bf24c$var$render","requestAnimationFrame","delta","getDelta","rotation","y","updateMatrixWorld","copy","matrixWorld","projectionMatrixInverse","invert"],"version":3,"file":"gpuPathTracingSimple.15e03ba2.js.map"}